<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>üå± B·∫¢NG TRA C·ª®U CH·ªà S·ªê C√ÇY TR·ªíNG</title>
  <style>
    /* chung */
    :root{
      --green:#1b5e20;
      --light-green:#eafaea;
      --panel:#fff;
      --accent:#81c784;
      --muted:#666;
    }
    html,body{height:100%; margin:0; font-family: "Segoe UI", "Segoe UI Emoji", "Noto Color Emoji", system-ui, sans-serif; background:var(--light-green); color:#111;}
    .wrap{max-width:820px; margin:30px auto; padding:22px;}
    h1{ text-align:center; color:var(--green); margin:10px 0 18px; font-weight:700;}
    .card{background:var(--panel); border-radius:14px; padding:20px; box-shadow:0 6px 18px rgba(0,0,0,0.06);}
    .controls{display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:flex-start;}
    label{font-weight:600; color:var(--green);}
    input[type="text"], select{padding:8px 10px; border-radius:8px; border:1px solid #cfead1; min-width:200px;}
    button{padding:8px 10px; border-radius:8px; border:1px solid var(--accent); background:transparent; cursor:pointer;}
    .title-block{ text-align:center; margin-top:18px;}
    #plant-icon{font-size:38px; line-height:1;}
    #plant-name{font-size:1.3rem; font-weight:700; color:var(--green); margin-top:6px;}
    #scientific-name{font-style:italic; color:#2e7d32; margin-top:6px;}
    table{width:100%; border-collapse:collapse; margin-top:16px; table-layout:auto;}
    th,td{padding:12px 14px; text-align:left;}
    th{background:var(--accent); color:#fff;}
    tr:hover{background:#f6fffa;}
    .note{font-style:italic; color:var(--muted); margin-top:12px;}
    /* ƒë·∫£m b·∫£o emoji c√≥ font fallback ·ªü nhi·ªÅu OS (khuy·∫øn ngh·ªã nh∆∞ng kh√¥ng guaranteed trong <option>) */
    select, option { font-family: "Segoe UI Emoji", "Noto Color Emoji", "Apple Color Emoji", "Segoe UI", sans-serif; }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>üåæ B·∫¢NG TRA C·ª®U CH·ªà S·ªê C√ÇY TR·ªíNG</h1>
    <div class="card">
      <div class="controls" aria-label="controls">
        <label for="search">üîç T√¨m c√¢y:</label>
        <input id="search" type="text" placeholder="Nh·∫≠p t√™n c√¢y (v√≠ d·ª•: Hoa, ·ªöt, D∆∞a...)" />
        <label for="select">Ho·∫∑c ch·ªçn c√¢y:</label>
        <select id="select" aria-label="Ch·ªçn c√¢y"></select>
        <button id="rndBtn" title="Ch·ªçn c√¢y ng·∫´u nhi√™n">üîÄ Ng·∫´u nhi√™n</button>
      </div>

      <div class="title-block" role="region" aria-live="polite">
        <div id="plant-icon" aria-hidden="true"></div>
        <div id="plant-name"></div>
        <div id="scientific-name"></div>
      </div>

      <table aria-describedby="note">
        <thead>
          <tr><th>Th√¥ng s·ªë</th><th>Gi√° tr·ªã ph√π h·ª£p</th></tr>
        </thead>
        <tbody id="info"></tbody>
      </table>

      <p id="note" class="note"></p>
    </div>
  </div>

  <script>
    // D·ªØ li·ªáu: m·∫£ng (index an to√†n cho random)
    const plants = [
      {
        id: "rice",
        icon: "üåæ",
        name: "L√∫a",
        sci: "Oryza sativa",
        info: {
          "√Ånh s√°ng": "Cao (tr·ª±c ti·∫øp) ‚Äì 40.000‚Äì80.000 lux",
          "Nhi·ªát ƒë·ªô l√Ω t∆∞·ªüng": "25‚Äì35¬∞C",
          "ƒê·ªô ·∫©m ƒë·∫•t": "70‚Äì90%",
          "ƒê·ªô pH ƒë·∫•t": "5.5‚Äì6.5",
          "N∆∞·ªõc t∆∞·ªõi": "Ng·∫≠p/ƒë·ªÅu ƒë·∫∑n giai ƒëo·∫°n sinh tr∆∞·ªüng"
        },
        note: "L√∫a c·∫ßn m√¥i tr∆∞·ªùng ·∫•m, ƒë·ªô ·∫©m cao v√† nhi·ªÅu √°nh s√°ng."
      },
      {
        id: "tomato",
        icon: "üçÖ",
        name: "C√† chua",
        sci: "Solanum lycopersicum",
        info: {
          "√Ånh s√°ng": "6‚Äì8 gi·ªù/ng√†y ‚Äì 30.000‚Äì50.000 lux",
          "Nhi·ªát ƒë·ªô l√Ω t∆∞·ªüng": "22‚Äì28¬∞C",
          "ƒê·ªô ·∫©m ƒë·∫•t": "60‚Äì70%",
          "ƒê·ªô pH ƒë·∫•t": "6.0‚Äì6.8",
          "T∆∞·ªõi n∆∞·ªõc": "V·ª´a ph·∫£i, tr√°nh √∫ng r·ªÖ"
        },
        note: "C√† chua ph√°t tri·ªÉn t·ªët trong kh√≠ h·∫≠u √¥n h√≤a, ƒë·∫•t t∆°i x·ªëp."
      },
      {
        id: "lettuce",
        icon: "ü•¨",
        name: "X√† l√°ch",
        sci: "Lactuca sativa",
        info: {
          "√Ånh s√°ng": "Trung b√¨nh, tr√°nh n·∫Øng g·∫Øt ‚Äì 15.000‚Äì25.000 lux",
          "Nhi·ªát ƒë·ªô l√Ω t∆∞·ªüng": "18‚Äì24¬∞C",
          "ƒê·ªô ·∫©m ƒë·∫•t": "60‚Äì80%",
          "ƒê·ªô pH ƒë·∫•t": "6.0‚Äì7.0",
          "T∆∞·ªõi n∆∞·ªõc": "Th∆∞·ªùng xuy√™n, gi·ªØ ·∫©m"
        },
        note: "X√† l√°ch ∆∞a m√°t, ph√°t tri·ªÉn nhanh."
      },
      {
        id: "chili",
        icon: "üå∂Ô∏è",
        name: "·ªöt",
        sci: "Capsicum annuum",
        info: {
          "√Ånh s√°ng": "Nhi·ªÅu (tr·ª±c ti·∫øp) ‚Äì 25.000‚Äì40.000 lux",
          "Nhi·ªát ƒë·ªô l√Ω t∆∞·ªüng": "25‚Äì32¬∞C",
          "ƒê·ªô ·∫©m ƒë·∫•t": "50‚Äì70%",
          "ƒê·ªô pH ƒë·∫•t": "6.0‚Äì6.8",
          "T∆∞·ªõi n∆∞·ªõc": "V·ª´a ph·∫£i, tr√°nh ng·∫≠p"
        },
        note: "·ªöt c·∫ßn nhi·ªÅu √°nh s√°ng v√† nhi·ªát ƒë·ªô ·∫•m."
      },
      {
        id: "cucumber",
        icon: "ü•í",
        name: "D∆∞a leo",
        sci: "Cucumis sativus",
        info: {
          "√Ånh s√°ng": "6‚Äì8 gi·ªù/ng√†y ‚Äì 20.000‚Äì30.000 lux",
          "Nhi·ªát ƒë·ªô l√Ω t∆∞·ªüng": "24‚Äì30¬∞C",
          "ƒê·ªô ·∫©m ƒë·∫•t": "65‚Äì80%",
          "ƒê·ªô pH ƒë·∫•t": "6.0‚Äì7.0",
          "T∆∞·ªõi n∆∞·ªõc": "ƒê·ªÅu ƒë·∫∑n, gi·ªØ ·∫©m v·ª´a ph·∫£i"
        },
        note: "D∆∞a leo c·∫ßn √°nh s√°ng m·∫°nh, ƒë·∫•t gi√†u dinh d∆∞·ª°ng."
      },
      {
        id: "phalaenopsis",
        icon: "üå∏",
        name: "Phong lan H·ªì ƒêi·ªáp",
        sci: "Phalaenopsis amabilis",
        info: {
          "√Ånh s√°ng": "√Ånh s√°ng khu·∫øch t√°n ‚Äì 8.000‚Äì15.000 lux",
          "Nhi·ªát ƒë·ªô l√Ω t∆∞·ªüng": "22‚Äì28¬∞C",
          "ƒê·ªô ·∫©m kh√¥ng kh√≠": "60‚Äì80%",
          "T∆∞·ªõi n∆∞·ªõc": "2‚Äì3 l·∫ßn/tu·∫ßn, tr√°nh ƒë·ªçng n∆∞·ªõc",
          "ƒê·ªô pH gi√° th·ªÉ": "5.5‚Äì6.5"
        },
        note: "Lan H·ªì ƒêi·ªáp c·∫ßn √°nh s√°ng nh·∫π, m√¥i tr∆∞·ªùng ·∫©m v√† tho√°ng kh√≠."
      }
    ];

    // Elements
    const selectEl = document.getElementById('select');
    const searchEl = document.getElementById('search');
    const iconEl = document.getElementById('plant-icon');
    const nameEl = document.getElementById('plant-name');
    const sciEl = document.getElementById('scientific-name');
    const infoEl = document.getElementById('info');
    const noteEl = document.getElementById('note');
    const rndBtn = document.getElementById('rndBtn');

    // Populate select with plain names (no emoji inside options to avoid Windows issue)
    function populateSelect() {
      selectEl.innerHTML = '';
      plants.forEach((p, idx) => {
        const opt = document.createElement('option');
        opt.value = String(idx);           // use index as value (safe)
        opt.textContent = p.name;          // plain text here
        selectEl.appendChild(opt);
      });
    }

    // Update UI for given index
    function showByIndex(idx) {
      const p = plants[idx];
      if (!p) return;
      // display icon separately (ensures it shows)
      iconEl.textContent = p.icon;
      nameEl.textContent = p.name;
      sciEl.textContent = p.sci ? `(${p.sci})` : '';
      // fill info table
      infoEl.innerHTML = '';
      for (const [k,v] of Object.entries(p.info)) {
        const tr = document.createElement('tr');
        tr.innerHTML = `<td>${k}</td><td>${v}</td>`;
        infoEl.appendChild(tr);
      }
      noteEl.textContent = p.note || '';
      // set select visually (if not already)
      selectEl.value = String(idx);
    }

    // Select random index and show
    function pickRandom() {
      const idx = Math.floor(Math.random() * plants.length);
      showByIndex(idx);
    }

    // Search: find first plant whose name includes query (case-insensitive)
    function searchPlant() {
      const q = searchEl.value.trim().toLowerCase();
      if (!q) return;
      const idx = plants.findIndex(p => p.name.toLowerCase().includes(q));
      if (idx >= 0) showByIndex(idx);
    }

    // Event handlers
    selectEl.addEventListener('change', e => {
      const idx = Number(e.target.value);
      if (!Number.isNaN(idx)) showByIndex(idx);
    });
    searchEl.addEventListener('input', () => {
      // small debounce not necessary here; immediate feedback
      searchPlant();
    });
    rndBtn.addEventListener('click', pickRandom);

    // Init on DOM ready
    document.addEventListener('DOMContentLoaded', () => {
      populateSelect();
      // choose random on load
      pickRandom();
    });
  </script>
</body>
</html>
