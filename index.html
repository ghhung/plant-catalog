<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>🌿 BẢNG TRA CỨU CHỈ SỐ CÂY TRỒNG</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #e9f9ed;
      margin: 0;
      padding: 20px;
    }

    h1 {
      text-align: center;
      color: #006400;
      font-size: 28px;
      font-weight: bold;
    }

    .container {
      max-width: 720px;
      margin: 20px auto;
      background: #fff;
      padding: 20px 30px;
      border-radius: 15px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    .search {
      text-align: center;
      margin-bottom: 20px;
    }

    input, select {
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
      width: 230px;
      font-size: 15px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }

    th {
      background: #4caf50;
      color: white;
      padding: 10px;
      text-align: left;
    }

    td {
      border-bottom: 1px solid #ddd;
      padding: 8px 10px;
      transition: background 0.25s;
    }

    tr:hover td {
      background: #d3f4d8;
    }

    .plant-info {
      text-align: center;
      margin: 15px 0;
    }

    .plant-icon {
      font-size: 40px;
    }

    .sci-name {
      font-style: italic;
      color: #444;
      margin-top: 5px;
    }
  </style>
</head>
<body>
  <h1>🌱 BẢNG TRA CỨU CHỈ SỐ CÂY TRỒNG</h1>

  <div class="container">
    <div class="search">
      🔍 Tìm cây: 
      <input type="text" id="searchBox" placeholder="Nhập tên cây (hoa, ớt, dưa...)">
      <select id="plantSelect"></select>
    </div>

    <div class="plant-info" id="plantInfo">
      <div class="plant-icon">🌿</div>
      <h2>Chọn cây để xem thông tin</h2>
    </div>

    <table id="plantTable" style="display:none;">
      <thead>
        <tr>
          <th>Thông số</th>
          <th>Giá trị phù hợp</th>
        </tr>
      </thead>
      <tbody id="tableBody"></tbody>
    </table>
  </div>

  <script>
    const plants = {
      "🌾 Lúa": {
        scientific: "Oryza sativa",
        data: {
          "Ánh sáng": "Nhiều – trực tiếp",
          "Nhiệt độ lý tưởng": "25–35°C",
          "Độ ẩm đất": "60–80%",
          "Độ pH đất": "5.5–7.0",
          "Tưới nước": "Đều đặn, không để khô ruộng"
        },
        note: "Cần ngập nước giai đoạn đầu, thoát nước khi trổ bông."
      },
      "🍅 Cà chua": {
        scientific: "Solanum lycopersicum",
        data: {
          "Ánh sáng": "25.000–40.000 lux",
          "Nhiệt độ lý tưởng": "25–32°C",
          "Độ ẩm đất": "50–70%",
          "Độ pH đất": "6.0–6.8",
          "Tưới nước": "Vừa phải, tránh ngập"
        },
        note: "Ưa ánh sáng và đất tơi xốp."
      },
      "🥬 Xà lách": {
        scientific: "Lactuca sativa",
        data: {
          "Ánh sáng": "Gián tiếp, 10.000–20.000 lux",
          "Nhiệt độ lý tưởng": "18–25°C",
          "Độ ẩm đất": "70–85%",
          "Độ pH đất": "6.0–7.0",
          "Tưới nước": "Giữ ẩm thường xuyên"
        },
        note: "Tránh nắng gắt, dễ héo nếu thiếu nước."
      },
      "🌶️ Ớt": {
        scientific: "Capsicum annuum",
        data: {
          "Ánh sáng": "25.000–40.000 lux",
          "Nhiệt độ lý tưởng": "22–32°C",
          "Độ ẩm đất": "65–85%",
          "Độ pH đất": "6.0–6.8",
          "Tưới nước": "Đều đặn, tránh úng"
        },
        note: "Cần nhiều ánh sáng, đất thoát nước tốt."
      },
      "🥒 Dưa leo": {
        scientific: "Cucumis sativus",
        data: {
          "Ánh sáng": "Nhiều – 30.000–45.000 lux",
          "Nhiệt độ lý tưởng": "25–30°C",
          "Độ ẩm đất": "70–90%",
          "Độ pH đất": "6.0–7.5",
          "Tưới nước": "Giữ ẩm liên tục"
        },
        note: "Ưa ẩm, không chịu hạn kéo dài."
      },
      "🌸 Phong lan Hồ Điệp": {
        scientific: "Phalaenopsis amabilis",
        data: {
          "Ánh sáng": "10.000–15.000 lux",
          "Nhiệt độ lý tưởng": "20–30°C",
          "Độ ẩm đất": "70–80%",
          "Độ pH đất": "5.5–6.5",
          "Tưới nước": "Sáng sớm, 2–3 lần/tuần"
        },
        note: "Không tưới buổi tối, cần thông thoáng khí."
      }
    };

    const select = document.getElementById("plantSelect");
    const searchBox = document.getElementById("searchBox");
    const plantInfo = document.getElementById("plantInfo");
    const table = document.getElementById("plantTable");
    const tbody = document.getElementById("tableBody");

    // Điền danh sách cây
    for (const plant in plants) {
      const opt = document.createElement("option");
      opt.textContent = plant;
      select.appendChild(opt);
    }

    function showPlant(name) {
      const p = plants[name];
      if (!p) return;
      plantInfo.innerHTML = `
        <div class="plant-icon">${name.split(" ")[0]}</div>
        <h2>${name.split(" ").slice(1).join(" ")}</h2>
        <div class="sci-name">(${p.scientific})</div>
      `;
      tbody.innerHTML = "";
      for (const key in p.data) {
        const row = document.createElement("tr");
        row.innerHTML = `<td>${key}</td><td>${p.data[key]}</td>`;
        tbody.appendChild(row);
      }
      table.style.display = "table";
      const noteRow = document.createElement("tr");
      noteRow.innerHTML = `<td colspan="2" style="font-style:italic;color:#555;">${p.note}</td>`;
      tbody.appendChild(noteRow);
    }

    // Khi chọn cây trong menu
    select.addEventListener("change", () => showPlant(select.value));

    // Tìm kiếm gợi ý thông minh
    searchBox.addEventListener("input", () => {
      const val = searchBox.value.toLowerCase();
      const match = Object.keys(plants).find(p => p.toLowerCase().includes(val));
      if (match) {
        select.value = match;
        showPlant(match);
      }
    });

    // Hiển thị ngẫu nhiên 1 cây khi vào web
    window.addEventListener("DOMContentLoaded", () => {
      const keys = Object.keys(plants);
      const randomPlant = keys[Math.floor(Math.random() * keys.length)];
      select.value = randomPlant;
      showPlant(randomPlant);
    });
  </script>
</body>
</html>
