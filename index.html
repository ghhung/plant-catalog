<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>üå± B·∫£ng tra c·ª©u ch·ªâ s·ªë c√¢y tr·ªìng</title>
<style>
  :root{
    --bg:#eefcf0;
    --panel:#fff;
    --accent:#1b8a44;
    --muted:#6b6b6b;
    --card-shadow: 0 6px 18px rgba(0,0,0,0.06);
  }
  html,body{height:100%; margin:0; font-family: "Segoe UI", "Segoe UI Emoji", "Noto Color Emoji", system-ui, sans-serif; background:var(--bg); color:#0b3b2e;}
  .wrap{max-width:960px; margin:28px auto; padding:12px;}
  h1{text-align:center; color:var(--accent); margin:8px 0 18px;}
  .card{background:var(--panel); border-radius:14px; padding:20px; box-shadow:var(--card-shadow);}
  .controls{display:flex; gap:12px; flex-wrap:wrap; align-items:center; justify-content:flex-start;}
  label{font-weight:600; color:var(--accent);}
  input.search{padding:8px 10px; border-radius:9px; border:1px solid #d9eedf; min-width:260px;}
  /* custom dropdown */
  .custom-select{position:relative; min-width:240px;}
  .select-btn{
    display:flex; align-items:center; gap:8px;
    justify-content:space-between;
    border:1px solid #d9eedf; padding:8px 10px;
    border-radius:9px; background:#fff; cursor:pointer;
    min-width:220px;
  }
  .select-btn .left{display:flex; gap:10px; align-items:center;}
  .select-btn .emoji{font-size:20px}
  .select-list{
    position:absolute; z-index:40;
    left:0; right:0; top:calc(100% + 8px);
    background:#fff; border:1px solid #e3efe6; border-radius:9px; max-height:220px; overflow:auto;
    box-shadow:0 8px 20px rgba(0,0,0,0.08); display:none;
  }
  .select-list.open{display:block;}
  .item{padding:8px 10px; display:flex; gap:8px; align-items:center; cursor:pointer;}
  .item:hover{background:#f3fff5;}
  .item .emoji{font-size:18px; width:28px; text-align:center;}
  .plant-title{ text-align:center; margin-top:16px;}
  .plant-title .big-emoji{font-size:46px}
  .plant-title h2{margin:6px 0 4px; color:var(--accent); font-size:1.35rem;}
  .scientific{font-style:italic; color:#2e7d32; margin-bottom:6px;}
  table{width:100%; border-collapse:collapse; margin-top:12px;}
  th,td{padding:12px 14px; text-align:left; border-bottom:1px solid #e9f7ee;}
  th{background:#bdeec4; color:#0b4a2b;}
  .note{margin-top:10px; color:var(--muted); font-style:italic;}
  /* small screens */
  @media (max-width:700px){
    .controls{flex-direction:column; align-items:stretch;}
    input.search{width:100%;}
    .custom-select{width:100%;}
  }
</style>
</head>
<body>
  <div class="wrap">
    <h1>üåæ B·∫¢NG TRA C·ª®U CH·ªà S·ªê C√ÇY TR·ªíNG</h1>
    <div class="card">
      <div class="controls" aria-label="controls">
        <label>üîç T√¨m c√¢y:</label>
        <input class="search" id="searchInput" placeholder="Nh·∫≠p t√™n c√¢y (v√≠ d·ª•: hoa, ·ªõt, d∆∞a...)">
        <label>Ho·∫∑c ch·ªçn c√¢y:</label>

        <div class="custom-select" id="customSelect" aria-haspopup="listbox">
          <div class="select-btn" id="selectBtn" role="button" tabindex="0" aria-expanded="false" aria-controls="selectList">
            <div class="left"><span class="emoji" id="selEmoji">üåø</span><span id="selText">Ch·ªçn c√¢y</span></div>
            <div class="chev">‚ñæ</div>
          </div>
          <div class="select-list" id="selectList" role="listbox" tabindex="-1"></div>
        </div>
      </div>

      <div class="plant-title" id="plantBlock" aria-live="polite">
        <div class="big-emoji" id="plantEmoji">üåø</div>
        <h2 id="plantName">T√™n c√¢y</h2>
        <div class="scientific" id="plantScientific"></div>
      </div>

      <table aria-describedby="note">
        <thead><tr><th>Th√¥ng s·ªë</th><th>Gi√° tr·ªã ph√π h·ª£p</th></tr></thead>
        <tbody id="infoBody"></tbody>
      </table>

      <p id="note" class="note"></p>
    </div>
  </div>

<script>
/* DATA: ƒë·∫ßy ƒë·ªß c√°c c√¢y b·∫°n y√™u c·∫ßu */
const plantList = [
  {
    id: "rice",
    emoji: "üåæ",
    name: "L√∫a",
    scientific: "Oryza sativa",
    info: {
      "√Ånh s√°ng":"Cao (tr·ª±c ti·∫øp) ‚Äì 40.000‚Äì80.000 lux",
      "Nhi·ªát ƒë·ªô l√Ω t∆∞·ªüng":"25‚Äì35¬∞C",
      "ƒê·ªô ·∫©m ƒë·∫•t":"70‚Äì90%",
      "ƒê·ªô pH ƒë·∫•t":"5.5‚Äì6.5",
      "T∆∞·ªõi n∆∞·ªõc":"Ng·∫≠p/gi·ªØ ·∫©m li√™n t·ª•c"
    },
    note: "L√∫a c·∫ßn m√¥i tr∆∞·ªùng ·∫•m, ƒë·ªô ·∫©m cao v√† nhi·ªÅu √°nh s√°ng."
  },
  {
    id:"tomato",
    emoji:"üçÖ",
    name:"C√† chua",
    scientific:"Solanum lycopersicum",
    info:{
      "√Ånh s√°ng":"6‚Äì8 gi·ªù/ng√†y ‚Äì 30.000‚Äì50.000 lux",
      "Nhi·ªát ƒë·ªô l√Ω t∆∞·ªüng":"22‚Äì28¬∞C",
      "ƒê·ªô ·∫©m ƒë·∫•t":"60‚Äì70%",
      "ƒê·ªô pH ƒë·∫•t":"6.0‚Äì6.8",
      "T∆∞·ªõi n∆∞·ªõc":"V·ª´a ph·∫£i, tr√°nh √∫ng"
    },
    note:"C√† chua ph√°t tri·ªÉn t·ªët trong ƒë·∫•t t∆°i x·ªëp, nhi·ªÅu dinh d∆∞·ª°ng."
  },
  {
    id:"lettuce",
    emoji:"ü•¨",
    name:"X√† l√°ch",
    scientific:"Lactuca sativa",
    info:{
      "√Ånh s√°ng":"Trung b√¨nh, tr√°nh n·∫Øng g·∫Øt ‚Äì 15.000‚Äì25.000 lux",
      "Nhi·ªát ƒë·ªô l√Ω t∆∞·ªüng":"18‚Äì24¬∞C",
      "ƒê·ªô ·∫©m ƒë·∫•t":"60‚Äì80%",
      "ƒê·ªô pH ƒë·∫•t":"6.0‚Äì7.0",
      "T∆∞·ªõi n∆∞·ªõc":"Th∆∞·ªùng xuy√™n, gi·ªØ ·∫©m"
    },
    note:"X√† l√°ch ∆∞a m√°t v√† ph√°t tri·ªÉn nhanh."
  },
  {
    id:"chili",
    emoji:"üå∂Ô∏è",
    name:"·ªöt",
    scientific:"Capsicum annuum",
    info:{
      "√Ånh s√°ng":"Nhi·ªÅu (tr·ª±c ti·∫øp) ‚Äì 25.000‚Äì40.000 lux",
      "Nhi·ªát ƒë·ªô l√Ω t∆∞·ªüng":"25‚Äì32¬∞C",
      "ƒê·ªô ·∫©m ƒë·∫•t":"50‚Äì70%",
      "ƒê·ªô pH ƒë·∫•t":"6.0‚Äì6.8",
      "T∆∞·ªõi n∆∞·ªõc":"V·ª´a ph·∫£i, tr√°nh ng·∫≠p"
    },
    note:"·ªöt c·∫ßn nhi·ªÅu √°nh s√°ng v√† nhi·ªát ƒë·ªô ·∫•m."
  },
  {
    id:"cucumber",
    emoji:"ü•í",
    name:"D∆∞a leo",
    scientific:"Cucumis sativus",
    info:{
      "√Ånh s√°ng":"6‚Äì8 gi·ªù/ng√†y ‚Äì 20.000‚Äì30.000 lux",
      "Nhi·ªát ƒë·ªô l√Ω t∆∞·ªüng":"24‚Äì30¬∞C",
      "ƒê·ªô ·∫©m ƒë·∫•t":"65‚Äì80%",
      "ƒê·ªô pH ƒë·∫•t":"6.0‚Äì7.0",
      "T∆∞·ªõi n∆∞·ªõc":"ƒê·ªÅu ƒë·∫∑n, gi·ªØ ·∫©m v·ª´a ph·∫£i"
    },
    note:"D∆∞a leo c·∫ßn √°nh s√°ng m·∫°nh v√† ƒë·∫•t gi√†u dinh d∆∞·ª°ng."
  },
  {
    id:"rose",
    emoji:"üåπ",
    name:"Hoa H·ªìng",
    scientific:"Rosa spp.",
    info:{
      "√Ånh s√°ng":"Nhi·ªÅu (tr·ª±c ti·∫øp)",
      "Nhi·ªát ƒë·ªô l√Ω t∆∞·ªüng":"25‚Äì32¬∞C",
      "ƒê·ªô ·∫©m ƒë·∫•t":"50‚Äì70%",
      "ƒê·ªô pH ƒë·∫•t":"6.0‚Äì6.8",
      "T∆∞·ªõi n∆∞·ªõc":"2‚Äì3 l·∫ßn/tu·∫ßn, tr√°nh √∫ng"
    },
    note:"Hoa h·ªìng ∆∞a n·∫Øng, ƒë·∫•t t∆°i x·ªëp."
  },
  {
    id:"airplant",
    emoji:"üåø",
    name:"C√¢y kh√¥ng kh√≠",
    scientific:"Tillandsia spp.",
    info:{
      "√Ånh s√°ng":"√Ånh s√°ng gi√°n ti·∫øp ‚Äì 10.000‚Äì20.000 lux",
      "Nhi·ªát ƒë·ªô l√Ω t∆∞·ªüng":"18‚Äì30¬∞C",
      "ƒê·ªô ·∫©m kh√¥ng kh√≠":"50‚Äì80%",
      "T∆∞·ªõi n∆∞·ªõc":"Phun s∆∞∆°ng 2‚Äì3 l·∫ßn/tu·∫ßn"
    },
    note:"C√¢y kh√¥ng kh√≠ kh√¥ng c·∫ßn ƒë·∫•t, th√≠ch n∆°i tho√°ng."
  },
  {
    id:"dendrobium",
    emoji:"üå∏",
    name:"Phong lan Dendrobium",
    scientific:"Dendrobium spp.",
    info:{
      "√Ånh s√°ng":"√Ånh s√°ng t√°n x·∫° ‚Äì 15.000‚Äì25.000 lux",
      "Nhi·ªát ƒë·ªô l√Ω t∆∞·ªüng":"20‚Äì30¬∞C",
      "ƒê·ªô ·∫©m kh√¥ng kh√≠":"60‚Äì80%",
      "T∆∞·ªõi n∆∞·ªõc":"T∆∞·ªõi khi gi√° th·ªÉ kh√¥, gi·∫£m t∆∞·ªõi khi ngh·ªâ"
    },
    note:"Dendrobium th√≠ch n∆°i tho√°ng, nhi·ªÅu √°nh s√°ng t√°n x·∫°."
  },
  {
    id:"phalaenopsis",
    emoji:"üíÆ",
    name:"Phong lan H·ªì ƒêi·ªáp",
    scientific:"Phalaenopsis spp.",
    info:{
      "√Ånh s√°ng":"√Ånh s√°ng khu·∫øch t√°n ‚Äì 8.000‚Äì15.000 lux",
      "Nhi·ªát ƒë·ªô l√Ω t∆∞·ªüng":"18‚Äì28¬∞C",
      "ƒê·ªô ·∫©m kh√¥ng kh√≠":"60‚Äì80%",
      "T∆∞·ªõi n∆∞·ªõc":"2‚Äì3 l·∫ßn/tu·∫ßn, tr√°nh ƒë·ªçng n∆∞·ªõc",
      "ƒê·ªô pH gi√° th·ªÉ":"5.5‚Äì6.5"
    },
    note:"Lan H·ªì ƒêi·ªáp th√≠ch √°nh s√°ng nh·∫π v√† kh√¥ng kh√≠ ·∫©m."
  },
  {
    id:"birdnestfern",
    emoji:"üå±",
    name:"D∆∞∆°ng x·ªâ t·ªï chim",
    scientific:"Asplenium nidus",
    info:{
      "√Ånh s√°ng":"√Ånh s√°ng t√°n x·∫° ‚Äì 5.000‚Äì15.000 lux",
      "Nhi·ªát ƒë·ªô l√Ω t∆∞·ªüng":"20‚Äì28¬∞C",
      "ƒê·ªô ·∫©m ƒë·∫•t":"60‚Äì80%",
      "T∆∞·ªõi n∆∞·ªõc":"Gi·ªØ ·∫©m ƒë·ªÅu, kh√¥ng ƒë·ªÉ √∫ng"
    },
    note:"D∆∞∆°ng x·ªâ ∆∞a b√≥ng v√† ƒë·ªô ·∫©m cao."
  },
  {
    id:"cattleya",
    emoji:"üåº",
    name:"Phong lan Cattleya",
    scientific:"Cattleya spp.",
    info:{
      "√Ånh s√°ng":"√Ånh s√°ng m·∫°nh, t√°n x·∫° ‚Äì 20.000‚Äì30.000 lux",
      "Nhi·ªát ƒë·ªô l√Ω t∆∞·ªüng":"22‚Äì32¬∞C",
      "ƒê·ªô ·∫©m kh√¥ng kh√≠":"60‚Äì80%",
      "T∆∞·ªõi n∆∞·ªõc":"3‚Äì4 l·∫ßn/tu·∫ßn, gi·∫£m khi ngh·ªâ"
    },
    note:"Cattleya c√≥ hoa to, c·∫ßn s√°ng v√† th√¥ng tho√°ng."
  }
];

/* UI references */
const selectBtn = document.getElementById('selectBtn');
const selectList = document.getElementById('selectList');
const selEmoji = document.getElementById('selEmoji');
const selText = document.getElementById('selText');
const searchInput = document.getElementById('searchInput');

const plantEmoji = document.getElementById('plantEmoji');
const plantNameEl = document.getElementById('plantName');
const plantScientific = document.getElementById('plantScientific');
const infoBody = document.getElementById('infoBody');
const noteEl = document.getElementById('note');

/* Build list items (with emoji visible) */
function buildList(filter=''){
  selectList.innerHTML = '';
  const q = filter.trim().toLowerCase();
  plantList.forEach((p, idx) => {
    const label = `${p.emoji} ${p.name}`;
    if(q && !label.toLowerCase().includes(q) && !p.name.toLowerCase().includes(q) && !p.scientific.toLowerCase().includes(q)) return;
    const item = document.createElement('div');
    item.className = 'item';
    item.setAttribute('role','option');
    item.dataset.idx = idx;
    item.innerHTML = `<span class="emoji">${p.emoji}</span><span class="txt">${p.name}</span><small style="margin-left:auto;color:#666;font-style:italic;margin-right:6px">${p.scientific}</small>`;
    item.addEventListener('click', ()=> {
      selectList.classList.remove('open');
      selectBtn.setAttribute('aria-expanded','false');
      selectBtn.blur();
      chooseIndex(idx);
    });
    selectList.appendChild(item);
  });
}

/* Choose and render plant by index */
function chooseIndex(idx){
  const p = plantList[idx];
  if(!p) return;
  selEmoji.textContent = p.emoji;
  selText.textContent = p.name;
  plantEmoji.textContent = p.emoji;
  plantNameEl.textContent = p.name;
  plantScientific.textContent = p.scientific ? `(${p.scientific})` : '';
  // render table
  infoBody.innerHTML = '';
  for(const [k,v] of Object.entries(p.info)){
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${k}</td><td>${v}</td>`;
    infoBody.appendChild(tr);
  }
  noteEl.textContent = p.note || '';
  // store current index in a data attribute for reference
  selectBtn.dataset.current = idx;
}

/* Toggle dropdown */
selectBtn.addEventListener('click', (e)=>{
  const open = selectList.classList.toggle('open');
  selectBtn.setAttribute('aria-expanded', open ? 'true' : 'false');
  if(open){
    // focus search inside custom list if present (we already have page-level search)
    // scroll selected into view
    const cur = selectBtn.dataset.current;
    if(cur != null){
      const target = selectList.querySelector(`[data-idx="${cur}"]`);
      if(target) target.scrollIntoView({block:'nearest'});
    }
  }
});

/* Close when clicking outside */
document.addEventListener('click', (e)=>{
  if(!document.getElementById('customSelect').contains(e.target)){
    selectList.classList.remove('open');
    selectBtn.setAttribute('aria-expanded','false');
  }
});

/* Filter while typing */
searchInput.addEventListener('input', (e)=>{
  const q = e.target.value;
  buildList(q);
  // If only one match, auto-select it? We'll not auto-select‚Äîjust show list filtered.
});

/* Keyboard support: open list by Enter on btn */
selectBtn.addEventListener('keydown', (e)=>{
  if(e.key === 'Enter' || e.key === ' '){
    e.preventDefault();
    selectBtn.click();
  }
});

/* On load: build list, pick a random plant and show it */
document.addEventListener('DOMContentLoaded', ()=>{
  buildList();
  // pick random index
  const idx = Math.floor(Math.random() * plantList.length);
  chooseIndex(idx);
  // ensure dropdown closed
  selectList.classList.remove('open');
  selectBtn.setAttribute('aria-expanded','false');
});
</script>
</body>
</html>
